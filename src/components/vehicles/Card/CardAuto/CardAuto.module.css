/**
 * CardAuto.module.css - Diseño Premium Refinado
 * 
 * OBJETIVO: Producto "premium confiable", no marketplace informal
 * 
 * LINEAMIENTOS:
 * - Jerarquía visual clara y refinada
 * - Cards limpias, respirables y consistentes
 * - Paleta sobria (blancos, grises, negro)
 * - Color de acento solo para precio
 * - Performance excelente
 * - Diseño escalable
 * 
 * MEJORAS DE DISEÑO:
 * - Espaciado consistente y unificado
 * - Jerarquía visual mejorada (marca vs modelo)
 * - Tipografía refinada con mejor contraste
 * - Efectos visuales sutiles y elegantes
 * - Responsive mejorado con más breakpoints
 * - Micro-interacciones refinadas
 * 
 * @author Indiana Usados
 * @version 8.0.0 - Diseño Premium Refinado
 */

/* ===== VARIABLES CSS LOCALES ===== */
.card {
    /* Variables de espaciado unificadas */
    --card-padding-base: var(--spacing-3);
    --card-padding-compact: var(--spacing-2);
    --card-gap-base: var(--spacing-3);
    --card-gap-compact: var(--spacing-2);
    
    /* Variables de borde y sombra */
    --card-border-width: 0.5px;
    --card-border-opacity: 0.08;
    --card-border-opacity-hover: 0.15;
    --card-shadow-base: 0 2px 8px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.06);
    --card-shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12), 0 12px 32px rgba(0, 0, 0, 0.08);
    --card-hover-lift: -6px;
    --card-hover-lift-mobile: -4px;
    --card-image-zoom: 1.04;
    
    /* Layout */
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
    max-width: 360px;
    
    /* Estilo visual */
    background: var(--color-white);
    border-radius: var(--border-radius-lg);
    border: var(--card-border-width) solid rgba(0, 0, 0, var(--card-border-opacity));
    box-shadow: var(--card-shadow-base);
    
    /* Comportamiento */
    overflow: hidden;
    position: relative;
    margin: 0 auto;
    cursor: pointer;
    /* ✅ REMOVIDO: z-index innecesario que puede crear contexto de apilamiento problemático */
    
    /* Transiciones consolidadas y refinadas */
    transition: 
        transform var(--transition-smooth),
        box-shadow var(--transition-smooth),
        border-color var(--transition-smooth);
}

/* Hover: Efecto flotación refinado */
.card:hover {
    transform: translateY(var(--card-hover-lift));
    border-color: rgba(0, 0, 0, var(--card-border-opacity-hover));
    box-shadow: var(--card-shadow-hover);
}

/* Active: Feedback táctil para mobile */
.card:active {
    transform: translateY(calc(var(--card-hover-lift) * 0.5));
}

/* Focus: Accesibilidad mejorada */
.card:focus {
    outline: 2px solid var(--color-brand-500);
    outline-offset: 2px;
}

.card:focus:not(:focus-visible) {
    outline: none;
}

/* ===== CONTENEDOR DE IMAGEN (FOCO PRINCIPAL) ===== */
/* ✅ EXACTO: Mismo selector que CardSimilar (que SÍ funciona) */
.card__image-container {
    position: relative;
    overflow: hidden;
    width: 100%;
    aspect-ratio: 16 / 9; /* ✅ Igual que CardSimilar */
    background: var(--color-neutral-50);
    
    /* ✅ ESTÁNDAR: Usar contain completo como CardSimilar (que SÍ funciona) */
    contain: layout style paint;
}

/* ✅ EXACTO: Mismo tratamiento que CardSimilar */
.card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform var(--transition-smooth);
    z-index: 0 !important;
}

/* ✅ EXACTO: Mismo selector que CardSimilar (que SÍ funciona) */
.card__image-container [class*="image"],
.card__image-container [class*="placeholder"] {
    z-index: 0 !important;
}

/* Zoom sutil en hover */
.card:hover .card__image {
    transform: scale(var(--card-image-zoom));
}

/* ===== CUERPO DE LA TARJETA ===== */
.card__body {
    --body-padding-y: var(--card-padding-base);
    --body-padding-x: var(--card-padding-base);
    --body-gap: var(--card-gap-base);
    
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--body-gap);
    padding: var(--body-padding-y) var(--body-padding-x);
    background: var(--color-white);
    justify-content: space-between;
}

/* ===== CONTENEDOR 1: Logo izquierda + Datos derecha ===== */
.container1 {
    --container-border-opacity: 0.06;
    --container-border-radius-top: var(--border-radius-md);
    
    display: flex;
    flex-direction: row;
    gap: 0; /* ✅ Sin gap intermedio */
    width: fit-content; /* ✅ Se adapta al contenido - logo pegado a datos */
    align-items: flex-start;
    justify-content: flex-start; /* ✅ Todo alineado a flex-start */
    flex-shrink: 0;
    min-height: 0;
    border-right: none; /* ✅ Border right eliminado */
    border-radius: var(--container-border-radius-top) var(--container-border-radius-top) 0 0;
}

/* Logo a la izquierda - Se adapta al contenido */
.container1_left {
    flex: 0 0 auto;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start; /* ✅ Alineado a flex-start */
    padding-top: var(--spacing-1);
    width: fit-content; /* ✅ Se adapta al contenido del logo */
    min-width: 0;
}

.brand_logo {
    --logo-size-base: clamp(75px, 21vw, 110px); /* ✅ Más grandes */
    --logo-opacity: 0.92;
    --logo-opacity-hover: 1;
    
    width: var(--logo-size-base);
    height: var(--logo-size-base);
    display: block;
    object-fit: contain;
    opacity: var(--logo-opacity);
    transition: 
        opacity var(--transition-smooth),
        transform var(--transition-fast);
    transform: scale(1);
}

/* Variantes de tamaño de logo */
.brand_logo_small {
    --logo-size-base: clamp(65px, 18vw, 90px); /* ✅ Más grandes */
    width: var(--logo-size-base);
    height: var(--logo-size-base);
}

.brand_logo_large {
    --logo-size-base: clamp(78px, 21vw, 110px); /* ✅ Sutilmente más chico que antes */
    width: var(--logo-size-base);
    height: var(--logo-size-base);
}

/* Hover: Logo más visible y sutilmente más grande */
.card:hover .brand_logo {
    opacity: var(--logo-opacity-hover);
    transform: scale(1.02);
}

/* Bloque de datos a la derecha - Se adapta al contenido */
.container1_right {
    flex: 0 1 auto; /* ✅ No crece más de lo necesario, se adapta al contenido */
    width: fit-content; /* ✅ Ancho se adapta al contenido horizontalmente */
    min-width: 220px; /* ✅ Ancho mínimo sutilmente más pequeño */
    display: flex;
    flex-direction: column;
    gap: 0;
    justify-content: flex-start;
    align-items: flex-start;
    overflow: visible; /* ✅ Cambiado de hidden a visible para que se vea el contenido */
}

/* FILA 1: Marca + Modelo - Jerarquía mejorada */
.container1_row1 {
    --row-line-height: 1.15;
    --row-gap: var(--spacing-1);
    
    display: flex;
    align-items: baseline;
    justify-content: flex-start;
    gap: var(--row-gap);
    width: 100%;
    flex-wrap: nowrap;
    min-width: 0;
    flex-shrink: 0;
    padding-bottom: 0;
    margin-bottom: 0;
    line-height: var(--row-line-height);
}

/* Marca: Más prominente y con mayor peso */
.marca_text {
    --marca-font-size: clamp(1.5rem, 4.8vw, 1.75rem);
    
    font-size: var(--marca-font-size);
    font-weight: var(--font-weight-bold);
    font-family: var(--font-condensed);
    color: var(--color-text-primary);
    letter-spacing: -0.3px;
    flex-shrink: 0;
    white-space: nowrap;
}

/* Separador: Más sutil */
.marca_modelo_separator {
    --separator-opacity: 0.2;
    --separator-font-size: clamp(1.5rem, 4.8vw, 1.75rem);
    
    font-size: var(--separator-font-size);
    font-weight: var(--font-weight-light);
    font-family: var(--font-condensed);
    color: var(--color-neutral-400);
    opacity: var(--separator-opacity);
    padding: 0 calc(var(--spacing-1) * 0.5);
    flex-shrink: 0;
}

.version_separator {
    font-size: clamp(1.375rem, 4.5vw, 1.625rem);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-condensed);
    color: var(--color-neutral-500);
    padding: 0 var(--spacing-1);
    flex-shrink: 0;
}

/* Modelo: Ligeramente más pequeño que marca para jerarquía */
.modelo_title {
    --modelo-font-size: clamp(1.4rem, 4.5vw, 1.65rem);
    
    font-size: var(--modelo-font-size);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    line-height: var(--row-line-height);
    letter-spacing: -0.2px;
    margin: 0;
    text-align: left;
    flex-shrink: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.version_text {
    font-size: clamp(1.125rem, 3.5vw, 1.25rem);
    font-weight: var(--font-weight-semibold);
    font-family: var(--font-condensed);
    color: var(--color-neutral-500);
    flex-shrink: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* FILA 2: Versión (debajo de marca y modelo) */
.container1_row2_version {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    width: 100%;
    padding: 0;
    margin: 0;
}

/* FILA 3: Caja, Km, Año - Adaptado al contenido con padding */
.container1_row3 {
    --data-item-padding-right: var(--spacing-3);
    --data-margin-top: var(--spacing-2);
    
    display: flex;
    justify-content: flex-start; /* ✅ Alineados al inicio, se adaptan al contenido */
    align-items: flex-end;
    gap: 0; /* Sin gap, usamos padding en cada item */
    flex-wrap: nowrap;
    width: 100%;
    min-width: 0;
    overflow: visible;
    flex-shrink: 0;
    margin-top: var(--data-margin-top);
    padding-top: 0;
}

/* Cuando hay "Automática": Padding normal, se adapta al contenido */
.container1_row3_automatica {
    /* Sin cambios, usa el padding de cada item */
}

.row2_data_item {
    --data-item-padding-right: var(--spacing-3);
    
    display: flex;
    align-items: flex-end;
    justify-content: flex-start;
    height: 100%;
    flex: 0 0 auto; /* ✅ Se adapta al contenido - no crece ni se distribuye */
    min-width: 0;
    padding-right: var(--data-item-padding-right); /* Padding para separar */
}

/* Caja: Se adapta al contenido */
.row2_data_item:first-child {
    min-width: 0; /* ✅ Sin mínimo, el contenedor padre ya tiene el ancho mínimo */
}

/* Km y Año: También se adaptan al contenido */
.row2_data_item:not(:first-child) {
    min-width: 0; /* Sin mínimo, se adaptan al contenido */
}

/* Cuando "Caja" es "Automática": Más padding si es necesario */
.row2_data_item_automatica {
    padding-right: var(--data-item-padding-right);
}

.row2_data_content {
    display: flex;
    flex-direction: column;
    gap: 0;
    align-items: flex-start;
    justify-content: flex-end;
    text-align: left;
    width: 100%;
}

/* Label: Más legible y con mejor contraste */
.row2_data_label {
    --label-font-size: clamp(0.8125rem, 2.1vw, 0.9375rem);
    --label-letter-spacing: 0.2px;
    
    font-size: var(--label-font-size);
    font-weight: var(--font-weight-medium);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    letter-spacing: var(--label-letter-spacing);
    text-transform: capitalize;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    margin-bottom: 2px;
}

/* Value: Más legible, peso aumentado ligeramente */
.row2_data_value {
    --value-font-size: clamp(1.25rem, 3.5vw, 1.5rem);
    --value-letter-spacing: -0.3px;
    --value-line-height: 1.25;
    --value-font-weight: 300;
    
    font-size: var(--value-font-size);
    font-weight: var(--value-font-weight);
    font-family: var(--font-condensed);
    color: var(--color-neutral-600); /* Mismo color que las labels */
    line-height: var(--value-line-height);
    letter-spacing: var(--value-letter-spacing);
    width: 100%;
    text-align: left;
    white-space: nowrap;
    overflow: visible;
    text-overflow: clip;
    
    /* Optimización de renderizado de texto fino */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-synthesis: none;
    text-rendering: optimizeLegibility;
}


/* ===== PRECIO DIVIDIDO EN 2 CONTENEDORES ===== */
.container4 {
    --price-border-opacity: 0.05;
    --price-border-radius: var(--border-radius-lg);
    
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: var(--spacing-2);
    margin-top: 0;
    padding-top: 0;
    border-top: 1px solid var(--color-neutral-200);
    border-left: 1px solid rgba(0, 0, 0, var(--price-border-opacity));
    border-radius: var(--price-border-radius) 0 0 0;
}

/* Contenedor izquierda: "Desde:" */
.price_label_container {
    --label-width: 30%;
    --label-padding-left: var(--spacing-2);
    
    flex: 0 0 var(--label-width);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding: 0;
    padding-left: var(--label-padding-left);
    background: transparent;
}

/* Label "desde": Más legible y menos cursiva */
.price_label {
    --label-font-size: clamp(1.125rem, 2.8vw, 1.375rem);
    
    font-size: var(--label-font-size);
    font-weight: var(--font-weight-medium);
    font-style: normal;
    font-family: var(--font-condensed);
    color: var(--color-neutral-600);
    text-align: left;
    text-transform: lowercase;
    letter-spacing: 0.5px;
}

/* Contenedor derecha: Precio */
.price_display {
    --price-width: 70%;
    --price-padding-right: var(--spacing-3);
    
    flex: 0 0 var(--price-width);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding: 0;
    padding-top: var(--spacing-1);
    padding-right: var(--price-padding-right);
    background: transparent;
}

/* Precio destacado: Más legible, menos cursiva */
.price_value {
    --price-font-size: clamp(2.125rem, 5.8vw, 2.625rem);
    --price-letter-spacing: -0.4px;
    --price-line-height: 1.15;
    --price-symbol-size: 0.7em;
    
    font-size: var(--price-font-size);
    font-weight: var(--font-weight-bold);
    font-style: normal;
    font-family: var(--font-condensed);
    color: var(--color-brand-500);
    line-height: var(--price-line-height);
    letter-spacing: var(--price-letter-spacing);
    text-align: right;
}

/* Signo de pesos más pequeño */
.price_value::first-letter {
    font-size: var(--price-symbol-size);
}

/* ===== RESPONSIVE - MOBILE FIRST ===== */

/* Mobile: Espaciado más compacto */
@media (max-width: 575px) {
    .card {
        --card-hover-lift: var(--card-hover-lift-mobile);
    }
    
    .card__body {
        --body-padding-y: var(--card-padding-compact);
        --body-padding-x: var(--card-padding-compact);
        --body-gap: var(--card-gap-compact);
    }
    
    .container1 {
        gap: 0; /* ✅ Sin gap intermedio */
    }
    
    .container1_row3 {
        --data-gap: var(--spacing-2);
        --data-margin-top: var(--spacing-1);
    }
}

/* Tablet: Espaciado medio */
@media (min-width: 576px) {
    .card {
        border-radius: var(--border-radius-lg);
    }
    
    .card__body {
        --body-padding-y: var(--card-padding-base);
        --body-padding-x: var(--card-padding-base);
        --body-gap: var(--spacing-4);
    }
    
    .container1 {
        gap: 0; /* ✅ Sin gap intermedio */
    }
    
    .container1_row3 {
        --data-gap: var(--spacing-3);
    }
}

/* Desktop: Espaciado generoso y bordes más redondeados */
@media (min-width: 768px) {
    .card {
        border-radius: var(--border-radius-xl);
    }
    
    .card__body {
        --body-gap: var(--spacing-2);
    }
    
    .container1 {
        gap: 0; /* ✅ Sin gap intermedio */
    }
}

/* ===== ACCESIBILIDAD: REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    .card,
    .card__image,
    .brand_logo {
        transition: none;
    }
    
    .card:hover .card__image {
        transform: none;
    }
    
    .card:hover {
        transform: none;
    }
}
