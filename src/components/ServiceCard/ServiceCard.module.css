/**
 * ServiceCard.module.css - Diseño responsive perfecto
 * 
 * Filosofía:
 * - Siempre se ve bien (sin importar el tamaño de pantalla)
 * - Proporciones fluidas y adaptativas
 * - Performance optimizada (efectos costosos solo en desktop)
 * - Layout inteligente que nunca se rompe
 * 
 * @author Indiana Usados
 * @version 9.0.0 - Layout perfecto responsive
 */

/* ===== TARJETA BASE (MOBILE-FIRST) ===== */
/* Mobile: Layout vertical simple y elegante */
.card {
  display: flex;
  flex-direction: column;
  background: var(--color-white);
  border-radius: var(--border-radius-lg);
  overflow: hidden;
  border: 1px solid rgba(10, 13, 20, 0.08);
  box-shadow: 
    0 2px 6px rgba(10, 13, 20, 0.06),
    0 6px 20px rgba(10, 13, 20, 0.04);
  margin-bottom: var(--spacing-6);
  position: relative;
  width: 100%;
  max-width: 100%;
}

/* ===== IMAGEN (MOBILE) ===== */
.imageContainer {
  position: relative;
  width: 100%;
  height: 200px; /* ✅ REDUCIDO: De 240px a 200px */
  overflow: hidden;
  background: linear-gradient(135deg, var(--color-neutral-50) 0%, var(--color-neutral-100) 100%);
  flex-shrink: 0;
}

.image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ===== CONTENIDO (MOBILE) ===== */
.content {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2); /* ✅ REDUCIDO: De spacing-3 a spacing-2 */
  padding: var(--spacing-4); /* ✅ REDUCIDO: De spacing-5 a spacing-4 */
  background: var(--color-white);
  position: relative;
  flex: 1;
}

/* Badge decorativo minimalista */
.content::before {
  content: '';
  position: absolute;
  top: 0;
  left: var(--spacing-5);
  width: 40px;
  height: 3px;
  background: var(--color-black);
  border-radius: 2px;
  opacity: 0.12;
}

.title {
  font-size: 20px; /* ✅ REDUCIDO: De 22px a 20px */
  font-weight: 700;
  color: var(--color-black);
  margin: 0;
  line-height: 1.25;
  font-family: var(--font-condensed);
  letter-spacing: -0.01em;
  margin-top: var(--spacing-1); /* ✅ REDUCIDO: De spacing-2 a spacing-1 */
}

.subtitle {
  font-size: 12px; /* ✅ REDUCIDO: De 13px a 12px */
  font-weight: 600;
  color: var(--color-neutral-500);
  margin: 0;
  font-family: var(--font-condensed);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  opacity: 0.75;
}

.description {
  font-size: 13px; /* ✅ REDUCIDO: De 14px a 13px */
  line-height: 1.55; /* ✅ REDUCIDO: De 1.6 a 1.55 */
  color: var(--color-neutral-600);
  margin: 0;
  font-weight: 400;
  margin-top: var(--spacing-1); /* ✅ REDUCIDO: De spacing-2 a spacing-1 */
}

.contactSection {
  margin-top: var(--spacing-3); /* ✅ REDUCIDO: De spacing-4 a spacing-3 */
  padding-top: var(--spacing-3); /* ✅ REDUCIDO: De spacing-4 a spacing-3 */
  border-top: 1px solid rgba(10, 13, 20, 0.08);
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== TABLET: 640px+ - Layout horizontal ultra-compacto ===== */
/* ✅ BREAKPOINT BAJO: Funciona incluso en notebooks con ventana no maximizada */
@media (min-width: 640px) {
  .card {
    flex-direction: row;
    border-radius: 12px; /* ✅ MÁS REDUCIDO: De 14px a 12px */
    min-height: 200px; /* ✅ MÁS REDUCIDO: De 240px a 200px */
  }
  
  /* Reverse: Imagen a la derecha */
  .card.reverse {
    flex-direction: row-reverse;
  }
  
  /* ✅ MÁS COMPACTO: Imagen más pequeña */
  .imageContainer {
    flex: 0 0 clamp(200px, 32%, 320px); /* ✅ MÁS REDUCIDO: De 35% a 32%, max de 380px a 320px */
    width: clamp(200px, 32%, 320px);
    height: auto;
    min-height: 200px; /* ✅ MÁS REDUCIDO: De 240px a 200px */
  }
  
  /* ✅ FLUIDO: Contenido ocupa el resto */
  .content {
    flex: 1;
    padding: var(--spacing-4); /* ✅ MÁS REDUCIDO: De spacing-5 a spacing-4 */
    gap: var(--spacing-2); /* ✅ MÁS REDUCIDO: De spacing-3 a spacing-2 */
    min-width: 0;
  }
  
  .content::before {
    left: var(--spacing-5);
    width: 44px; /* ✅ REDUCIDO: De 48px a 44px */
    opacity: 0.15;
  }
  
  .title {
    font-size: clamp(20px, 2.2vw, 24px); /* ✅ MÁS REDUCIDO: De 22-28px a 20-24px */
    letter-spacing: -0.02em;
  }
  
  .subtitle {
    font-size: clamp(11px, 1.2vw, 14px); /* ✅ MÁS REDUCIDO: De 12-15px a 11-14px */
    letter-spacing: 0.08em;
  }
  
  .description {
    font-size: clamp(12px, 1.3vw, 15px); /* ✅ MÁS REDUCIDO: De 13-16px a 12-15px */
    line-height: 1.6; /* ✅ MÁS REDUCIDO: De 1.65 a 1.6 */
    margin-top: var(--spacing-1); /* ✅ MÁS REDUCIDO: De spacing-2 a spacing-1 */
  }
  
  .contactSection {
    margin-top: var(--spacing-3); /* ✅ MÁS REDUCIDO: De spacing-4 a spacing-3 */
    padding-top: var(--spacing-3); /* ✅ MÁS REDUCIDO: De spacing-4 a spacing-3 */
  }
}

/* ===== DESKTOP: 992px+ - Efectos premium ===== */
@media (min-width: var(--desktop-min)) {
  .card {
    border-radius: 20px;
    box-shadow: 
      0 0 0 1px rgba(10, 13, 20, 0.04),
      0 4px 12px rgba(10, 13, 20, 0.08),
      0 12px 40px rgba(10, 13, 20, 0.1);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  /* ✅ Borde luminoso en hover */
  .card::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    border: 2px solid transparent;
    background: linear-gradient(135deg, rgba(255,255,255,0.4), transparent, rgba(10,13,20,0.1)) border-box;
    -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
  }
  
  .card:hover {
    transform: translateY(-6px);
    box-shadow: 
      0 0 0 1px rgba(10, 13, 20, 0.06),
      0 8px 20px rgba(10, 13, 20, 0.12),
      0 20px 56px rgba(10, 13, 20, 0.14);
  }
  
  .card:hover::after {
    opacity: 1;
  }
  
  /* ✅ DESKTOP: Imagen ultra-compacta */
  .imageContainer {
    flex: 0 0 clamp(260px, 30%, 380px); /* ✅ MÁS REDUCIDO: De 38% a 30%, max de 480px a 380px */
    width: clamp(260px, 30%, 380px);
    min-height: 240px; /* ✅ MÁS REDUCIDO: De 300px a 240px */
  }
  
  /* ✅ Overlay gradiente en hover */
  .imageContainer::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to bottom,
      rgba(10, 13, 20, 0) 0%,
      rgba(10, 13, 20, 0.05) 100%
    );
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
  }
  
  .card:hover .imageContainer::before {
    opacity: 1;
  }
  
  /* ✅ Zoom suave en imagen */
  .image {
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  
  .card:hover .image {
    transform: scale(1.04);
  }
  
  .content {
    padding: 1.5rem 2rem; /* ✅ MÁS REDUCIDO: De 2rem 2.5rem a 1.5rem 2rem */
  }
  
  .content::before {
    left: 2rem;
    width: 48px; /* ✅ MÁS REDUCIDO: De 52px a 48px */
    height: 3px;
    opacity: 0.2;
  }
  
  .title {
    transition: color 0.3s ease;
  }
  
  .card:hover .title {
    color: #000000;
  }
  
  .subtitle {
    transition: opacity 0.3s ease;
  }
  
  .card:hover .subtitle {
    opacity: 1;
  }
}

/* ===== DESKTOP XL: 1200px+ - Refinamiento ultra-compacto ===== */
@media (min-width: 1200px) {
  .card {
    border-radius: 16px; /* ✅ MÁS REDUCIDO: De 18px a 16px */
  }
  
  .card::after {
    border-radius: 16px;
  }
  
  .imageContainer {
    flex: 0 0 clamp(280px, 32%, 420px); /* ✅ MÁS REDUCIDO: De 40% a 32%, max de 520px a 420px */
    width: clamp(280px, 32%, 420px);
    min-height: 260px; /* ✅ MÁS REDUCIDO: De 320px a 260px */
  }
  
  .content {
    padding: 1.75rem 2.5rem; /* ✅ MÁS REDUCIDO: De 2.25rem 3rem a 1.75rem 2.5rem */
  }
  
  .content::before {
    left: 2.5rem;
    width: 52px; /* ✅ MÁS REDUCIDO: De 58px a 52px */
  }
}

/* ===== ANIMACIONES (PROGRESIVE ENHANCEMENT) ===== */
/* ✅ CONSISTENTE: Mismo breakpoint que layout horizontal (640px) */
@media (prefers-reduced-motion: no-preference) and (min-width: 640px) {
  .card {
    animation: fadeInScale 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) backwards;
  }
  
  .card:nth-child(1) { animation-delay: 0s; }
  .card:nth-child(2) { animation-delay: 0.15s; }
  .card:nth-child(3) { animation-delay: 0.3s; }
}

@keyframes fadeInScale {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ===== TOUCH DEVICES (PERFORMANCE) ===== */
@media (hover: none) and (pointer: coarse) {
  .card:hover {
    transform: none;
  }
  
  .card:active {
    transform: scale(0.98);
    transition: transform 0.15s ease;
  }
  
  /* ⚡ Touch: Sin zoom en imagen (performance) */
  .card:hover .image {
    transform: none;
  }
  
  .card::after {
    display: none; /* Sin borde luminoso en touch */
  }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ===== DARK MODE ===== */
@media (prefers-color-scheme: dark) {
  .card {
    background: #1a1d24;
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 4px 16px rgba(0, 0, 0, 0.4),
      0 8px 32px rgba(0, 0, 0, 0.3);
  }
  
  .content {
    background: #1a1d24;
  }
  
  .content::before {
    background: #ffffff;
    opacity: 0.15;
  }
  
  .title {
    color: #ffffff;
  }
  
  .subtitle {
    color: #9ca3af;
  }
  
  .description {
    color: #d1d5db;
  }
  
  .contactSection {
    border-top-color: rgba(255, 255, 255, 0.1);
  }
}